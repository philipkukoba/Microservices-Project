apiVersion: apps/v1
kind: Deployment
metadata:
  name: medicijnen
  labels:
    app: medicijnen
spec:
  replicas: 1 # aantal instanties van pod
  selector:
    matchLabels:
      app: medicijnen
    template:
      metadata:
        labels:
          app: medicijnen
        spec:
          containers:
            - name: medicijnen
              image: medicijnen
              # args [""]
              env: # wijzigen
                - name: SPRING_DATASOURCE_URL
                  value: "jdbc:postgresql://voorraad_db:5432/medicijnen"
                - name: SPRING_DATASOURCE_USERNAME
                  value: "admin"
                - name: SPRING_DATASOURCE_PASSWORD
                  value: "admin"
                - name: SPRING_KAFKA_BOOTSTRAP_SERVERS
                  value: "kafka:9092"
                - name: EXTERNAL_API_KOELCEL_URI
                  value: "http://koelcelmonitor:8000/koelcellen" # adres nog aanpassen
          ports:
            - containerPort: 8080

